generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("LICITACOES__POSTGRES_URL")
}

model Alerta {
  id           BigInt   @id @default(autoincrement())
  userId       BigInt
  nome         String
  filtros      Json     @default("{}")
  periodicidade String  @default("diario")
  criadoEm     DateTime @default(now())
}

model Favorito {
  userId      BigInt
  licitacaoId String
  marcadoEm   DateTime @default(now())
  @@id([userId, licitacaoId])
}

model PerfilEmpresa {
  userId       BigInt @id
  dados         Json  @default("{}")
  atualizadoEm  DateTime @default(now())
}

model HistoricoContrato {
  id                String  @id
  cnpjOrgao         String
  orgao             String
  uf                String
  municipio         String?
  objeto            String
  fornecedorCnpj    String
  fornecedorNome    String
  valorContratado   Float
  dataAssinatura    String
  dataPublicacao    String
  tipoContrato      String
  areaAtuacao       String
  palavrasChave     Json
}

model Pipeline {
  id             String @id
  userId         BigInt
  objeto         String
  orgao          String
  uf             String
  valorEstimado  Float?
  dataAbertura   String?
  modalidade     String?
  cnpjOrgao      String?
  status         String?
  observacoes    String?
  adicionadoEm   DateTime @default(now())
  atualizadoEm   DateTime @default(now())
}

model Checklist {
  id            String @id
  userId        BigInt
  titulo        String?
  licitacaoId   String?
  orgao         String?
  objeto        String?
  dataAbertura  String?
  documentos    Json   @default("[]")
  criadoEm      DateTime @default(now())
  atualizadoEm  DateTime @default(now())
}

